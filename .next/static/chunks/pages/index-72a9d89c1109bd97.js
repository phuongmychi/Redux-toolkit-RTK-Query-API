(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4808)}])},4808:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return C},removeDuplicate:function(){return j}});var t=r(5893),i=r(7294);function a(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function c(n,e){if(n){if("string"==typeof n)return o(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(n,e)}}function d(n,e){return function(n){if(Array.isArray(n))return n}(n)||a(n,e)||c(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(n){var e=d((0,i.useState)(!0),2),r=e[0],t=e[1];return(0,i.useEffect)(function(){var e=document.createElement("IMG");e.src=n,e.onerror=function(){t(!1)},e.onload=function(){t(!0)}},[n]),r},l=i.memo(function(n){var e=n.alt,r=n.radiusBorder,a=n.onClick,o=n.style,c=n.height,l=n.onKeyPress,u=(n.onKeyDown,n.id),h=n.crossOrigin,p=n.loading,g=n.imgUrl,f=n.width,m=n.className,v=n.isLoading,x=s(g),y=d((0,i.useState)(!1),2),w=y[0],b=y[1],j=(0,i.useRef)(null),C=/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(g)?null==g?void 0:g.replace("http://","https://"):g;return((0,i.useEffect)(function(){if(!w&&(null==j?void 0:j.current)){var n=new IntersectionObserver(function(n){d(n,1)[0].intersectionRatio>0&&b(!0)});return n.observe(null==j?void 0:j.current),function(){return n.disconnect()}}},[w,j]),"\n    #imgTeacher {\n        padding-right:0px;\n        width:320px;\n        height:100%;\n        border-radius:".concat(r,"px;\n    }\n     #imgTeacherLoading {\n        padding-right:0px;\n        background-image: linear-gradient(#91C884, #CCD492,#7CB4E0);\n        width:320px;\n        height:180px;\n        text-align:center;\n        border-radius:").concat(r,"px;\n    }\n   @media only screen and (max-width: 1440px) {\n    #imgTeacher {\n        width:100%;\n        border-radius:").concat(r,"px;\n    }\n    #imgTeacherLoading {\n        padding-right:0px;\n        background-image: linear-gradient(#91C884, #CCD492,#7CB4E0);\n        width:300px;\n        height:180px;\n        text-align:center;\n        border-radius:").concat(r,"px;\n    }\n    }\n    @media only screen and (max-width: 768px) {\n    #imgTeacher {\n        width:100%;\n        border-radius:").concat(r,"px;\n    }\n    #imgTeacherLoading {\n        padding-right:0px;\n        background-image: linear-gradient(#91C884, #CCD492,#7CB4E0);\n        width:100%;\n        height:180px;\n        text-align:center;\n        border-radius:").concat(r,"px;\n    }\n    }"),v)?(0,t.jsx)("div",{id:u,className:m,style:{backgroundImage:"linear-gradient(#91C884, #CCD492,#7CB4E0)",borderRadius:"8px"},ref:j,children:(0,t.jsx)("p",{style:{paddingTop:"100px",color:"white",textAlign:"center"},children:"Loading ..."})}):(0,t.jsx)(t.Fragment,{children:w?(0,t.jsxs)("picture",{children:[(0,t.jsx)("source",{srcSet:x?C:"https://phuongmychi.web.app/img/premium.jpg",type:"image/webp"}),(0,t.jsx)("img",{src:x?C:"https://phuongmychi.web.app/img/premium.jpg",alt:e,loading:p,crossOrigin:h,onClick:a,style:o,height:c,width:f,id:u,onKeyPress:l,className:m})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{id:u,className:m,style:{backgroundImage:"linear-gradient(#91C884, #CCD492,#7CB4E0)",borderRadius:"8px"},ref:j,children:(0,t.jsx)("p",{style:{paddingTop:"100px",color:"white",textAlign:"center"},children:"Loading ..."})})})})}),u=r(1056),h=r.n(u),p=function(n){return n.width,(0,t.jsxs)("div",{className:h().loadingSpinner,children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{})]})},g=r(9008),f=r.n(g),m=function(n){var e=n.homePage,r=n.onSearch,i=n.title;return(0,t.jsxs)("div",{className:"header",children:[" ",(0,t.jsx)(f(),{children:(0,t.jsx)("title",{children:i||""})}),(0,t.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,t.jsxs)("h3",{onClick:e,style:{cursor:"pointer"},children:["Photos"," "]}),(0,t.jsx)("h3",{style:{cursor:"pointer",marginLeft:"100px"},children:(0,t.jsx)("input",{placeholder:"Search a photos",id:"input",onChange:function(n){var e;return r(null==n?void 0:null===(e=n.target)||void 0===e?void 0:e.value)},type:"search"})})]})]})};function v(n,e,r,t,i,a,o){try{var c=n[a](o),d=c.value}catch(s){r(s);return}c.done?e(d):Promise.resolve(d).then(t,i)}function x(n){return function(){var e=this,r=arguments;return new Promise(function(t,i){var a=n.apply(e,r);function o(n){v(a,t,i,o,c,"next",n)}function c(n){v(a,t,i,o,c,"throw",n)}o(void 0)})}}var y=r(414),w=r(74),b=function(){var n,e,r=d((0,i.useState)(1),2),t=r[0],s=r[1],l=d((0,i.useState)(""),2),u=l[0],h=l[1],p=d((0,i.useState)([]),2),g=p[0],f=p[1],m=(0,w._$)({name:"".concat(u||"nature2"),page:t}),v=m.data,b=m.error,j=m.isLoading,C=d((0,w.X3)(),1)[0];(0,i.useEffect)(function(){var n;(n=x(function(){var n,e;return(0,y.__generator)(this,function(r){switch(r.label){case 0:return[4,C({name:"".concat(u||"nature"),page:1}).refetch()];case 1:return f((null==(e=r.sent())?void 0:null===(n=e.data)||void 0===n?void 0:n.photos)||[]),[2]}})}),function(){return n.apply(this,arguments)})()},[C,u]);var _=(0,i.useCallback)(function(){var n;s(t+1),f(g.concat.apply(g,function(n){if(Array.isArray(n))return o(n)}(n=(null==v?void 0:v.photos)||[])||a(n)||c(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[t,g,f,s]),E=(n=x(function(){var n,e;return(0,y.__generator)(this,function(r){switch(r.label){case 0:return f([]),h(""),s(1),[4,C({name:"nature",page:1}).refetch()];case 1:return(null==(n=r.sent())?void 0:n.data)&&f((null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.photos)||[]),[2]}})}),function(){return n.apply(this,arguments)}),S=(0,i.useCallback)((e=x(function(n){var e,r;return(0,y.__generator)(this,function(t){switch(t.label){case 0:return f([]),s(1),h(n||""),[4,C({name:n,page:1}).refetch()];case 1:return(null==(e=t.sent())?void 0:e.data)&&f((null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.photos)||[]),[2]}})}),function(n){return e.apply(this,arguments)}),[u,h,s]);return(0,i.useEffect)(function(){var n=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&_()};return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}},[_]),{data:v,dataPhotos:g,handleHome:E,loadMore:_,isLoading:j,error:b,handleSearch:S}},j=function(n){return n?null==n?void 0:n.filter(function(n,e,r){return r.findIndex(function(e){return e===n})===e}):[]},C=function(){var n=b(),e=n.dataPhotos,r=(n.data,n.error),i=n.isLoading,a=(n.loadMore,n.handleHome),o=n.handleSearch;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{title:"Photo Page ",onSearch:o,homePage:a}),(0,t.jsxs)("div",{className:"pageContainer",children:[(0,t.jsx)("div",{className:"imgContainer",children:null==e?void 0:e.map(function(n,e){var r;return(0,t.jsxs)("div",{className:"cardItem",children:[(0,t.jsx)(l,{loading:"lazy",alt:"".concat(null==n?void 0:n.alt," "),imgUrl:null==n?void 0:null===(r=n.src)||void 0===r?void 0:r.medium,className:"imgItem"}),(0,t.jsx)("div",{className:"nameAuthor",children:null==n?void 0:n.photographer})]},e)})}),(0,t.jsx)("div",{className:"loadMore",children:r?(0,t.jsx)("p",{children:"Đã sảy ra l\xf4̃i kh\xf4ng mong mu\xf4́n"}):null}),(0,t.jsx)("div",{className:"loadMore",children:i?(0,t.jsx)(p,{}):null})]})]})}},1056:function(n){n.exports={loadingSpinner:"Loading_loadingSpinner__ET4sE"}},9008:function(n,e,r){n.exports=r(3121)}},function(n){n.O(0,[774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);